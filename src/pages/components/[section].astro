---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ComponentsLayout from '../../layouts/ComponentsLayout.astro';
import HeroesView from '../../pages/heroes/index.astro';
import FeaturesView from '../../pages/features/index.astro';
import CtasView from '../../pages/ctas/index.astro';
import PricingView from '../../pages/pricing/index.astro';
import FaqsView from '../../pages/faqs/index.astro';
import TestimonialsPreview from '../../components/previews/testimonials/Preview.astro';
import ServicesView from '../../pages/services/index.astro';
import LogoCloudsView from '../../pages/logo-clouds/index.astro';
import GalleryView from '../../pages/gallery/index.astro';
import HeadersView from '../../pages/headers/index.astro';
import FootersView from '../../pages/footers/index.astro';
import ButtonsView from '../../pages/buttons/index.astro';
import BadgesView from '../../pages/badges/index.astro';
import PillsView from '../../pages/pills/index.astro';
import CardsView from '../../pages/cards/index.astro';
import ErrorView from '../../pages/404.astro';
import ErrorsView from '../../pages/errors/index.astro';

const SECTIONS = ['heroes','headers','footers','buttons','badges','pills','cards','features','ctas','pricing','faqs','testimonials','services','logo-clouds','gallery','errors'] as const;

type Section = typeof SECTIONS[number];

const { section } = Astro.params as { section: string };
const key = (section || '').toLowerCase();

if (!SECTIONS.includes(key as Section)) {
  return Astro.redirect('/components/heroes');
}

const views: Record<Section, any> = {
  heroes: HeroesView,
  headers: HeadersView,
  footers: FootersView,
  buttons: ButtonsView,
  badges: BadgesView,
  pills: PillsView,
  cards: CardsView,
  features: FeaturesView,
  ctas: CtasView,
  pricing: PricingView,
  faqs: FaqsView,
  testimonials: TestimonialsPreview,
  services: ServicesView,
  'logo-clouds': LogoCloudsView,
  gallery: GalleryView,
  errors: ErrorsView,
};

const View = views[key as Section] ?? HeroesView;
export async function getStaticPaths() {
  const SECTIONS = [
    'heroes','headers','footers','buttons','badges','pills','cards',
    'features','ctas','pricing','faqs','testimonials','services',
    'logo-clouds','gallery','errors'
  ];
  return SECTIONS.map(section => ({ params: { section } }));
}
---

<BaseLayout title="Components | Starter UI" description="Browse all components and sections from a clean dashboard">
  <ComponentsLayout active={key}>
    <View />
  </ComponentsLayout>
</BaseLayout>
